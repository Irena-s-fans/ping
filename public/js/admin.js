(()=>{var t,e={6018:()=>{$(document).ready((function(){$(".form__checkbox-label").each((function(){$(this).closest(".form__block").find('input[type="checkbox"]').is(":checked")?$(this).addClass("form__checkbox-label_active"):$(this).removeClass("form__checkbox-label_active")})),$("form").validate({rules:{title:{required:!0},description:{required:!0},text:{required:!0}},messages:{title:{required:"Заполните данное поле"},description:{required:"Заполните данное поле"},text:{required:"Заполните данное поле"}}}),$(".edit__btn").on("click",(function(t){t.preventDefault();var e=$(this).closest("form");if(e.valid()){var o=new FormData(e.get(0));o.append("text",tinymce.get("text").getContent({format:"Document"})),$.ajax({type:"POST",url:e.attr("data-url"),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:o,cache:!1,contentType:!1,processData:!1,success:function(){void 0===e.attr("redirect-on-submit")?alert("Форма была отправлена."):window.location.href="/home"},error:function(){alert("Ошибка при отправке формы.")}})}})),$(".add__btn").on("click",(function(t){t.preventDefault();var e=$(this).closest("form");if(e.valid()){var o=new FormData(e.get(0));o.append("text",tinymce.get("text").getContent({format:"Document"})),$.ajax({type:"POST",url:e.attr("data-url"),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:o,cache:!1,contentType:!1,processData:!1,success:function(){void 0===e.attr("redirect-on-submit")?alert("Форма была отправлена."):window.location.href="/home"},error:function(){alert("Ошибка при отправке формы.")}})}})),$(".login__btn").on("click",(function(t){t.preventDefault();var e=$(this).closest("form");if(e.valid()){var o=new FormData(e.get(0));$.ajax({type:"POST",url:e.attr("data-url"),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:o,cache:!1,contentType:!1,processData:!1,success:function(){void 0===e.attr("redirect-on-submit")?alert("Форма была отправлена."):window.location.href="/home"},error:function(){alert("Ошибка при отправке формы.")}})}})),$(".form__field_file").on("change",(function(){$(this).closest(".form__block").find(".form__field_label").html(this.files.length?this.files[0].name:"Выберите файл")})),$(".form__checkbox-label").on("click",(function(){$(this).toggleClass("form__checkbox-label_active")}))}))},5760:()=>{$(document).ready((function(){$(".logout").on("click",(function(t){t.preventDefault(),$.ajax({type:"POST",url:"/logout",datatype:"json",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(){window.location.href="/home"},error:function(t){alert("Произошла ошибка: ".concat(t))}})}))}))},7831:()=>{$(document).ready((function(){$(".project-delete").on("click",(function(t){t.preventDefault();var e=Number($(this).attr("data-project-id"));$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/admin/projects/delete",method:"POST",dataType:"json",data:{projectID:e},success:function(){location.reload()},error:function(){alert("Произошла ошибка при удалении записи.")}})}))}))},5608:(t,e,o)=>{var r={"./_form.js":6018,"./_logout.js":5760,"./_project-edit.js":7831};function n(t){var e=a(t);return o(e)}function a(t){if(!o.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=a,t.exports=n,n.id=5608}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var a=o[t]={exports:{}};return e[t](a,a.exports,r),a.exports}r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(t=r(5608)).keys().forEach((function(e){return t(e)}))})();